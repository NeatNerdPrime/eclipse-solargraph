<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.4"?>
<plugin>
   <extension 
         point="org.eclipse.core.contenttype.contentTypes">
     <content-type
           base-type="org.eclipse.core.runtime.text"
           file-extensions="rb,gemspec"
           file-names="gemfile"
           id="io.github.pyvesb.eclipse_solargraph"
           name="Ruby file"
           priority="high">
     </content-type>
   </extension>
   <extension
         point="org.eclipse.ui.editors">
      <editorContentTypeBinding
            contentTypeId="io.github.pyvesb.eclipse_solargraph"
            editorId="org.eclipse.ui.genericeditor.GenericEditor">
      </editorContentTypeBinding>
   </extension>
   <extension
         point="org.eclipse.lsp4e.languageServer">
         <server
            class="io.github.pyvesb.eclipse_solargraph.server.SolargraphStreamConnectionProvider"
            id="io.github.pyvesb.eclipse_solargraph"
            label="io.github.pyvesb.eclipse_solargraph.Solargraph">
         </server>
         <contentTypeMapping
            contentType="io.github.pyvesb.eclipse_solargraph"
            id="io.github.pyvesb.eclipse_solargraph">
         </contentTypeMapping>
   </extension>
   <extension
         point="org.eclipse.tm4e.registry.grammars">
      <grammar
            path="grammar/ruby.tmLanguage.json"
            scopeName="source.ruby">
      </grammar>
      <scopeNameContentTypeBinding
            contentTypeId="io.github.pyvesb.eclipse_solargraph"
            scopeName="source.ruby">
      </scopeNameContentTypeBinding>
   </extension>
   <extension
         point="org.eclipse.ui.genericeditor.presentationReconcilers">
      <presentationReconciler
            class="org.eclipse.tm4e.ui.text.TMPresentationReconciler"
            contentType="io.github.pyvesb.eclipse_solargraph">
      </presentationReconciler>
   </extension>
   <extension
         point="org.eclipse.tm4e.languageconfiguration.languageConfigurations">
      <languageConfiguration
            contentTypeId="io.github.pyvesb.eclipse_solargraph"
            path="language-configuration/language-configuration.json">
      </languageConfiguration>
   </extension>
   <extension
         point="org.eclipse.tm4e.ui.snippets">
      <snippet
            name="Ruby sample"
            path="snippet/sample.rb"
            scopeName="source.ruby">
      </snippet>
   </extension>
   <extension
         point="org.eclipse.core.runtime.preferences">
      <initializer
            class="io.github.pyvesb.eclipse_solargraph.preferences.PreferenceInitializer">
      </initializer>
   </extension>
   <extension
         point="org.eclipse.ui.preferencePages">
      <page
            class="io.github.pyvesb.eclipse_solargraph.preferences.PreferencePage"
            id="io.github.pyvesb.eclipse_solargraph"
            name="Solargraph">
      </page>
   </extension>
   <extension
         point="org.eclipse.debug.ui.launchShortcuts">
      <shortcut
            category="org.eclipse.ui.externaltools"
            class="io.github.pyvesb.eclipse_solargraph.launch.FileLaunchShortcut"
            icon="icon/ruby.png"
            id="io.github.pyvesb.eclipse_solargraph.launch_ruby_file"
            label="Ruby program"
            modes="run">
          <contextualLaunch>
              <enablement>
                  <with variable="selection">
                      <count value="1" />
                      <iterate>
                          <and>
                              <adapt type="org.eclipse.core.resources.IFile" />
                              <test property="org.eclipse.debug.ui.matchesPattern" value="*.rb" />
                          </and>
                      </iterate>
                  </with>
              </enablement>
          </contextualLaunch>
      </shortcut>
      
   </extension>
</plugin>
